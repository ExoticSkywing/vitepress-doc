安装码云repo工具，可以执行如下命令。

```bash
sudo curl https://gitee.com/oschina/repo/raw/fork_flow/repo-py3 -o /usr/local/bin/repo
sudo chmod a+x /usr/local/bin/repo
pip3 install -i https://repo.huaweicloud.com/repository/pypi/simple requests
```

### 拉取代码并编译

```bash
 	cd ~
	mkdir -p ohos_master && cd ohos_master
	repo init -u https://gitee.com/openharmony/manifest.git -b master --no-repo-verify
	repo sync -c
	repo forall -c 'git lfs pull'
	bash build/prebuilts_download.sh
	全量：./build.sh --product-name rk3568 --ccache
# 单编北向
./build.sh --product-name rk3568 --ccache --build-target usb_manager --fast-rebuild

# 单编南向
./build.sh --product-name rk3568 --ccache --build-target=drivers_peripheral_usb --fast-rebuild
```
### 北向 
`out/rk3568/usb/usb_manager/`  
将里面的产物对应到推送目录的相应位置，看目录找对应文件，关联的目录涉及
1. platformsdk1
2. module2
3. base3

### 南向
`out/rk3568/hdf/drivers_peripheral_usb/`  
将里面的产物对应到推送目录的相应位置，这个目录下全部文件导到`drivers`目录
1. drivers

`out/rk3568/hdf/drivers_interface_usb/`  
**注意这个里面的产物**
- 带`stub`的有四个，导入到->`drivers`目录,
- 带`proxy`的有两个，`libusb_proxy_1.1.z.so`,`libusb_proxy_1.0.z.so`导入到->`base3`目录

最后将`/home/cm01/mengwei/ohos_master/out/rk3568/thirdparty/libusb/`路径下的`libusb_shared.z.so`导入到->`drivers`。  
只需首次。无需每次都推

依次运行每个目录下的脚本
1. platformsdk1
2. module2
3. drivers
4. base3
前三个无先后顺序，只需把base3放在最后推，等待开发版重启

重启完成，运行`selinux`目录脚本，关闭selinux
